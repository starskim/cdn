(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{144:function(e,n,t){"use strict";var i=t(217),a=t(5),o=t(63),r=t(253);class s{constructor(e){this.stdio=e,this.timerId=0,this.index=0}start(e=""){this.timerId=window.setInterval(()=>{this.index+=1,this.index%=r.dots.frames.length,this.stdio.reset(),this.stdio.print(`${r.dots.frames[this.index]} ${e}`)},r.dots.interval)}stop(e=""){clearInterval(this.timerId),this.stdio.reset(),this.stdio.println(e),this.stdio.print("[?25h")}}async function c(e,n){const t=new s(n);t.start("Installing plugin...");const{message:i,data:o}=await a.c("/admin/plugins/market/download",{name:e});t.stop(`  ${i}`);const r=null==o?void 0:o.reason;r&&n.println(r.map(e=>`- ${e}`).join("\r\n"))}async function d(e,n){const{confirm:t}=await Object(i.prompt)({name:"confirm",type:"confirm",message:`Are you sure to remove plugin "${e}"?`,stdin:Object(o.a)(),stdout:Object(o.b)(n)});if(!t)return;const r=new s(n);r.start("Uninstalling plugin...");const{message:c}=await a.c("/admin/plugins/manage",{action:"delete",name:e});r.stop(`  ${c}`)}t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return d}))},212:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return r}));var i=t(72),a=t(63),o=t(144);async function r(n,t){const s=new i.Command;e.stdout=Object(a.b)(n),Object(a.c)(s,n),s.name(r.name),s.command("install <plugin>").description("install a new plugin").action(e=>Object(o.a)(e,n)),s.command("upgrade <plugin>").description("upgrade an existed plugin").action(e=>Object(o.a)(e,n)),s.command("remove <plugin>").description("remove a plugin").action(e=>Object(o.b)(e,n)),await s.parseAsync(t,{from:"user"})}}).call(this,t(31))},224:function(e,n,t){"use strict";function i(){}function a(){return{pause(){},resume(){},close(){}}}t.r(n),t.d(n,"emitKeypressEvents",(function(){return i})),t.d(n,"createInterface",(function(){return a}))},255:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return r}));var i=t(72),a=t(5),o=t(63);async function r(n,t){const r=new i.Command;e.stdout=Object(o.b)(n),Object(o.c)(r,n),r.name("closet").version("0.1.0"),r.command("add <uid> <tid>").description("add texture to someone's closet").action(async(e,t)=>{const{code:i,data:o}=await a.c(`/admin/closet/${e}`,{tid:t});if(0===i){const{texture:e,user:t}=o;n.println(`Texture "${e.name}" was added to user ${t.nickname}'s closet.`)}else n.println("Error occurred.")}),r.command("remove <uid> <tid>").description("remove texture from someone's closet").action(async(e,t)=>{const{code:i,data:o}=await a.a(`/admin/closet/${e}`,{tid:t});if(0===i){const{texture:e,user:t}=o;n.println(`Texture "${e.name}" was removed from user ${t.nickname}'s closet.`)}else n.println("Error occurred.")}),await r.parseAsync(t,{from:"user"})}}).call(this,t(31))},256:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return r}));var i=t(72),a=t(63),o=t(144);async function r(n,t){const s=new i.Command;e.stdout=Object(a.b)(n),Object(a.c)(s,n),s.name(r.name),s.command("install <plugin>").description("install a new plugin").action(e=>Object(o.a)(e,n)),s.command("upgrade <plugin>").description("upgrade an existed plugin").action(e=>Object(o.a)(e,n)),s.command("remove <plugin>").description("remove a plugin").action(e=>Object(o.b)(e,n)),await s.parseAsync(t,{from:"user"})}}).call(this,t(31))},257:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return r}));var i=t(72),a=t(63),o=t(144);async function r(n,t){if(0===t.length)return void n.println("error: no operation specified (use -h for help)");const s=new i.Command;e.stdout=Object(a.b)(n),Object(a.c)(s,n),s.name(r.name),s.option("-S, --sync <plugin>").description("install or upgrade a plugin"),s.option("-R, --remove <plugin>").description("remove a plugin"),s.parse(t,{from:"user"});const c=s.opts();c.sync?await Object(o.a)(c.sync,n):c.remove&&await Object(o.b)(c.remove,n)}}).call(this,t(31))},258:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return r}));var i=t(72),a=t(5),o=t(63);async function r(n,t){const r=new i.Command;e.stdout=Object(o.b)(n),Object(o.c)(r,n),r.name("rm").option("-f, --force","ignore nonexistent files and arguments, never prompt").option("-r, --recursive","remove directories and their contents recursively").option("--no-preserve-root","do not treat '/' specially").arguments("<file>");const s=r.parse(t,{from:"user"}).opts(),c=r.args[0];c||(n.println("rm: missing operand"),n.println("Try 'rm --help' for more information.")),s.force&&s.recursive&&c.startsWith("/")&&await a.c("/admin/resource?clear-cache")}}).call(this,t(31))},259:function(e,n,t){var i=t(12),a=t(260);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},r=(i(e.i,a,o),a.locals?a.locals:{});e.exports=r},260:function(e,n,t){"use strict";t.r(n);var i=t(9),a=t.n(i)()(!1);a.push([e.i,".terminal__3hLvz{z-index:1040;position:fixed;bottom:7vh;-webkit-user-select:none;-ms-user-select:none;user-select:none}@media(min-width: 1200px){.terminal__3hLvz{left:25vw;width:50vw;height:50vh}}@media(min-width: 768px)and (max-width: 1200px){.terminal__3hLvz{left:5vw;width:90vw;height:40vh}}@media(max-width: 768px){.terminal__3hLvz{left:1vw;width:98vw;height:35vh}}.body__1oPMf{background-color:#000}",""]),a.locals={terminal:"terminal__3hLvz",body:"body__1oPMf"},n.default=a},408:function(e,n,t){"use strict";t.r(n),t.d(n,"launch",(function(){return j}));var i=t(0),a=t.n(i),o=t(4),r=t.n(o),s=t(208),c=t(209),d=t(28),u=(t(210),t(211)),l=t.n(u),m=t(2),p=t(212),f=t(255),h=t(256),v=t(257),b=t(258),w=t(259),g=t.n(w);let y=!1;const x=e=>{const n=Object(i.useRef)(null);return Object(i.useEffect)(()=>{const e=n.current;if(!e)return;const t=new s.Terminal,i=new c.FitAddon;t.loadAddon(i),t.setOption("fontFamily",'Monaco, Consolas, "Roboto Mono", "Noto Sans", "Droid Sans Mono"'),t.open(e),i.fit();const a=new d.a(t);a.addExternal(p.a.name,p.a),a.addExternal("closet",f.a),a.addExternal(h.a.name,h.a),a.addExternal(v.a.name,v.a),a.addExternal("rm",b.a);const o=t.onData(e=>a.input(e)),r=t.onKey(e=>m.a("terminalKeyPress",e.key));return y=!0,()=>{o.dispose(),r.dispose(),a.free(),i.dispose(),t.dispose(),y=!1}},[]),a.a.createElement(l.a,{handle:".card-header"},a.a.createElement("div",{className:`card ${g.a.terminal}`},a.a.createElement("div",{className:"card-header"},a.a.createElement("div",{className:"d-flex justify-content-between"},a.a.createElement("h4",{className:"card-title mt-1"},"Blessing Skin Shell"),a.a.createElement("button",{className:"btn btn-default",onClick:e.onClose},"Ã—"))),a.a.createElement("div",{className:`card-body p-2 ${g.a.body}`,ref:n})))};function j(){if(y)return;const e=document.createElement("div");document.body.appendChild(e);r.a.render(a.a.createElement(x,{onClose:()=>{r.a.unmountComponentAtNode(e),e.remove()}}),e)}},63:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return r}));var i=t(2);function a(){return{on(e,n){"keypress"===e&&(this._off=i.b("terminalKeyPress",e=>{n(e)}))},isTTY:!0,setRawMode(){},removeListener(){this._off()}}}function o(e){return{write:n=>(e.print(n.replace(/\n/g,"\r\n")),!0)}}function r(e,n){return Error.captureStackTrace=()=>{},e.exitOverride(e=>{e.message.startsWith("(")||n.print(e.message.replace(/\n/g,"\r\n"))})}}}]);