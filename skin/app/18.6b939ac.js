(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{29:function(e,t,n){t.hot=function(e){return e}},33:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},421:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(29),c=n(1),o=n(5),s=n(62),l=n(86);t.default=Object(i.hot)(()=>{const[e,t]=Object(r.useState)(""),[n,i]=Object(r.useState)(!1),[u,p]=Object(r.useState)(""),[f,d]=Object(r.useState)(""),h=Object(r.useRef)(null);return a.a.createElement("form",{onSubmit:async t=>{t.preventDefault(),d(""),i(!0);const n=await h.current.execute(),{code:r,message:a}=await o.c("/auth/forgot",{email:e,captcha:n});0===r?p(a):(d(a),h.current.reset()),i(!1)}},a.a.createElement("div",{className:"input-group mb-3"},a.a.createElement("input",{type:"email",className:"form-control",placeholder:Object(c.a)("auth.email"),required:!0,value:e,onChange:e=>{t(e.target.value)}}),a.a.createElement("div",{className:"input-group-append"},a.a.createElement("div",{className:"input-group-text"},a.a.createElement("i",{className:"fas fa-envelope"})))),a.a.createElement(l.a,{ref:h}),a.a.createElement(s.a,{type:"success"},u),a.a.createElement(s.a,{type:"warning"},f),a.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},a.a.createElement("a",{href:`${blessing.base_url}/auth/login`},Object(c.a)("auth.forgot.login-link")),a.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:n},n?a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"fas fa-spinner fa-spin mr-1"}),Object(c.a)("auth.sending")):Object(c.a)("auth.forgot.button"))))})},62:function(e,t,n){"use strict";var r=n(0),a=n.n(r);const i=new Map([["success","check"],["info","info"],["warning","exclamation-triangle"],["danger","times-circle"]]);t.a=e=>{const{type:t}=e,n=i.get(t);return e.children?a.a.createElement("div",{className:`alert alert-${t}`},a.a.createElement("i",{className:`icon fas fa-${n}`}),e.children):null}},86:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(87),c=n.n(i),o=n(2),s=n(1),l=n(88),u=n.n(l);const p=Symbol();t.a=class extends a.a.Component{constructor(e){super(e),this.execute=async()=>{const e=this.ref.current;return e&&this.state.invisible?new Promise(t=>{const n=Object(o.b)(p,e=>{t(e),n()});e.execute()}):this.state.value},this.reset=()=>{const e=this.ref.current;e?e.reset():this.setState({time:Date.now()})},this.handleValueChange=e=>{this.setState({value:e.target.value})},this.handleVerify=e=>{Object(o.a)(p,e),this.setState({value:e})},this.handleRefresh=()=>{this.setState({time:Date.now()})},this.state={value:"",time:Date.now(),sitekey:blessing.extra.recaptcha,invisible:blessing.extra.invisible},this.ref=a.a.createRef()}render(){return this.state.sitekey?a.a.createElement("div",{className:"mb-2"},a.a.createElement(c.a,{ref:this.ref,sitekey:this.state.sitekey,size:this.state.invisible?"invisible":"normal",onVerify:this.handleVerify})):a.a.createElement("div",{className:"d-flex"},a.a.createElement("div",{className:"form-group mb-3 mr-2"},a.a.createElement("input",{type:"text",className:"form-control",placeholder:Object(s.a)("auth.captcha"),required:!0,value:this.state.value,onChange:this.handleValueChange})),a.a.createElement("img",{src:`${blessing.base_url}/auth/captcha?v=${this.state.time}`,alt:Object(s.a)("auth.captcha"),className:u.a.captcha,height:34,title:Object(s.a)("auth.change-captcha"),onClick:this.handleRefresh}))}}},87:function(e,t,n){(function(t){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=function(e){var t=document.createElement("script");t.async=!0,t.defer=!0,t.src=e,document.head&&document.head.appendChild(t)},c=function(e){return Array.from(document.scripts).reduce((function(t,n){return t||e.test(n.src)}),!1)};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f="https://recaptcha.net/recaptcha/api.js",d=/(http|https):\/\/(www)?.+\/recaptcha/,h=function(e){function t(e){var n,r,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,u=s(t).call(this,e),n=!u||"object"!==o(u)&&"function"!=typeof u?l(r):u,p(l(n),"container",null),p(l(n),"_isAvailable",(function(){return Boolean(window&&window.grecaptcha&&window.grecaptcha.ready)})),p(l(n),"_inject",(function(){if(n.props.inject&&!c(d)){var e=n.props.hl?"&hl=".concat(n.props.hl):"",t="".concat(f,"?render=explicit").concat(e);i(t)}})),p(l(n),"_prepare",(function(){var e=n.props,t=e.explicit,r=e.onLoad;window.grecaptcha.ready((function(){n.setState({ready:!0},(function(){t||n.renderExplicitly(),r&&r()}))}))})),p(l(n),"_renderRecaptcha",(function(e,t){return window.grecaptcha.render(e,t)})),p(l(n),"_resetRecaptcha",(function(){return window.grecaptcha.reset(n.state.instanceId)})),p(l(n),"_executeRecaptcha",(function(){return window.grecaptcha.execute(n.state.instanceId)})),p(l(n),"_getResponseRecaptcha",(function(){return window.grecaptcha.getResponse(n.state.instanceId)})),p(l(n),"_stopTimer",(function(){n.state.timer&&clearInterval(n.state.timer)})),p(l(n),"componentDidMount",(function(){if(n._inject(),n._isAvailable())n._prepare();else{var e=setInterval((function(){n._isAvailable()&&(n._prepare(),n._stopTimer())}),500);n.setState({timer:e})}})),p(l(n),"shouldComponentUpdate",(function(e){return n.props.className!==e.className||!n.state.rendered})),p(l(n),"componentWillUnmount",(function(){n._stopTimer(),n.state.rendered&&n._resetRecaptcha()})),p(l(n),"renderExplicitly",(function(){return new Promise((function(e,t){if(n.state.rendered)return t(new Error("This recaptcha instance has been already rendered."));if(!n.state.ready||!n.container)return t(new Error("Recaptcha is not ready for rendering yet."));var r=n._renderRecaptcha(n.container,{sitekey:n.props.sitekey,theme:n.props.theme,size:n.props.size,badge:n.state.invisible?n.props.badge:null,tabindex:n.props.tabindex,callback:n.props.onVerify,"expired-callback":n.props.onExpire,"error-callback":n.props.onError,isolated:n.state.invisible?n.props.isolated:null,hl:n.state.invisible?null:n.props.hl});n.setState({instanceId:r,rendered:!0},(function(){n.props.onRender&&n.props.onRender(),e()}))}))})),p(l(n),"reset",(function(){return new Promise((function(e,t){if(n.state.rendered)return n._resetRecaptcha(),e();t(new Error("This recaptcha instance did not render yet."))}))})),p(l(n),"execute",(function(){return new Promise((function(e,t){return n.state.invisible?(n.state.rendered&&(n._executeRecaptcha(),e()),t(new Error("This recaptcha instance did not render yet."))):t(new Error("Manual execution is only available for invisible size."))}))})),p(l(n),"getResponse",(function(){return new Promise((function(e,t){if(n.state.rendered)return e(n._getResponseRecaptcha());t(new Error("This recaptcha instance did not render yet."))}))})),p(l(n),"render",(function(){var e=a.a.createElement("div",{id:n.props.id,className:n.props.className,ref:function(e){return n.container=e}});return n.props.children?n.props.children({renderExplicitly:n.renderExplicitly,reset:n.reset,execute:n.execute,getResponse:n.getResponse,recaptchaComponent:e}):e})),n.state={instanceId:null,ready:!1,rendered:!1,invisible:"invisible"===n.props.size,timer:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),t}(r.Component);p(h,"defaultProps",{id:"",className:"g-recaptcha",theme:"light",size:"normal",badge:"bottomright",tabindex:0,explicit:!1,inject:!0,isolated:!1,hl:""}),t.default=h}]).default},e.exports=r(n(0))}).call(this,n(33))},88:function(e,t,n){var r=n(12),a=n(89);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},c=(r(e.i,a,i),a.locals?a.locals:{});e.exports=c},89:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n.n(r)()(!1);a.push([e.i,".captcha__33j3t{cursor:pointer}",""]),a.locals={captcha:"captcha__33j3t"},t.default=a}}]);