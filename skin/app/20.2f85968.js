(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{37:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a(0),n=a(2);function c(){Object(s.useEffect)(()=>{Object(n.a)("mounted")},[])}},41:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var s=a(5);const n=s.css`
  cursor: pointer;
`,c=s.css`
  display: flex;
  justify-content: center;
  align-items: center;
`},423:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(31),i=a(50),r=a(37),o=a(1),l=a(6),u=a(4),h=a(11),b=a(75),m=a(96),d=a(97);t.default=Object(c.hot)(()=>{const[e,t]=Object(s.useState)(""),[a,c]=Object(s.useState)(""),[g,p]=Object(s.useState)(!1),[f,j]=Object(s.useState)(!1),[O,v]=Object(s.useState)(!1),[x,w]=Object(s.useState)(""),y=Object(s.useRef)(null),E=Object(i.a)("recaptcha"),S=Object(i.a)("invisible");Object(r.a)(),Object(s.useEffect)(()=>{j(blessing.extra.tooManyFails)},[]);return n.a.createElement("form",{onSubmit:async t=>{var s;t.preventDefault(),v(!0);const n=await l.c(h.a.auth.login(),{identification:e,password:a,keep:g,captcha:f?await y.current.execute():void 0});!function(e){return 0===e.code}(n)?(w(n.message),v(!1),null===(s=y.current)||void 0===s||s.reset(),n.data.login_fails>3&&!f&&(j(!0),E?S||Object(u.a)({mode:"alert",text:Object(o.a)("auth.tooManyFails.recaptcha")}):Object(u.a)({mode:"alert",text:Object(o.a)("auth.tooManyFails.captcha")}))):window.location.href=n.data.redirectTo}},n.a.createElement(d.a,{type:"text",placeholder:Object(o.a)("auth.identification"),required:!0,value:e,onChange:t}),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"password",className:"form-control",placeholder:Object(o.a)("auth.password"),value:a,onChange:e=>{c(e.target.value)},required:!0}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement("i",{className:"fas fa-lock"})))),f&&n.a.createElement(m.a,{ref:y}),n.a.createElement(b.a,{type:"warning"},x),n.a.createElement("div",{className:"d-flex justify-content-between mb-3"},n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",className:"mr-1",checked:g,onChange:e=>{p(e.target.checked)}}),Object(o.a)("auth.keep")),n.a.createElement("a",{href:`${blessing.base_url}/auth/forgot`},Object(o.a)("auth.forgot-link"))),n.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit",disabled:O},O?n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-spinner fa-spin mr-1"}),Object(o.a)("auth.loggingIn")):Object(o.a)("auth.login")))})},50:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(0);function n(e,t){const[a,n]=Object(s.useState)(t);return Object(s.useEffect)(()=>{n(blessing.extra[e])},[]),a}},75:function(e,t,a){"use strict";var s=a(0),n=a.n(s);const c=new Map([["success","check"],["info","info"],["warning","exclamation-triangle"],["danger","times-circle"]]);t.a=e=>{const{type:t}=e,a=c.get(t);return e.children?n.a.createElement("div",{className:`alert alert-${t}`},n.a.createElement("i",{className:`icon fas fa-${a}`}),e.children):null}},96:function(e,t,a){"use strict";var s=a(0),n=a(5),c=a(148),i=a.n(c),r=a(2),o=a(1),l=a(41);const u=Symbol();t.a=class extends s.Component{constructor(e){super(e),this.execute=async()=>{const e=this.ref.current;return e&&this.state.invisible?new Promise(t=>{const a=Object(r.b)(u,e=>{t(e),a()});e.execute()}):this.state.value},this.reset=()=>{const e=this.ref.current;e?e.reset():this.setState({time:Date.now()})},this.handleValueChange=e=>{this.setState({value:e.target.value})},this.handleVerify=e=>{Object(r.a)(u,e),this.setState({value:e})},this.handleRefresh=()=>{this.setState({time:Date.now()})},this.state={value:"",time:Date.now(),sitekey:blessing.extra.recaptcha,invisible:blessing.extra.invisible},this.ref=s.createRef()}render(){return this.state.sitekey?Object(n.jsx)("div",{className:"mb-2"},Object(n.jsx)(i.a,{ref:this.ref,sitekey:this.state.sitekey,size:this.state.invisible?"invisible":"normal",onVerify:this.handleVerify})):Object(n.jsx)("div",{className:"d-flex"},Object(n.jsx)("div",{className:"form-group mb-3 mr-2"},Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:Object(o.a)("auth.captcha"),required:!0,value:this.state.value,onChange:this.handleValueChange})),Object(n.jsx)("img",{src:`${blessing.base_url}/auth/captcha?v=${this.state.time}`,alt:Object(o.a)("auth.captcha"),css:l.b,height:34,title:Object(o.a)("auth.change-captcha"),onClick:this.handleRefresh}))}}},97:function(e,t,a){"use strict";var s=a(0),n=a(149),c=a.n(n),i=a(5),r=a(2),o=a(41);const l=i.css`
  .dropdown-menu li {
    ${o.b}
  }
`,u=new Set(["qq.com","163.com","gmail.com","hotmail.com"]);t.a=e=>{const[t,a]=Object(s.useState)([]);Object(s.useEffect)(()=>{Object(r.a)("emailDomainsSuggestion",u)},[]);return Object(i.jsx)("div",{css:l},Object(i.jsx)(c.a,{suggestions:t,onSuggestionsFetchRequested:({value:e})=>{const t=e.split("@");a([...u].map(e=>`${t[0]}@${e}`))},onSuggestionsClearRequested:()=>{a([])},getSuggestionValue:e=>e,renderSuggestion:e=>e,shouldRenderSuggestions:e=>{return[...u].some(t=>e.endsWith(`@${t}`))||e.length>0&&!e.includes("@")},inputProps:Object.assign({},e,{onChange:(t,a)=>{e.onChange(a.newValue)}}),renderInputComponent:e=>Object(i.jsx)("div",{className:"input-group"},Object(i.jsx)("input",Object.assign({className:"form-control"},e)),Object(i.jsx)("div",{className:"input-group-append"},Object(i.jsx)("div",{className:"input-group-text"},Object(i.jsx)("i",{className:"fas fa-envelope"})))),theme:{container:"mb-3",suggestion:"dropdown-item",suggestionsContainer:"dropdown",suggestionsList:`dropdown-menu ${t.length?"show":""}`,suggestionHighlighted:"active"}}))}}}]);