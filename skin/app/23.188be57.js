(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{34:function(e,t,n){t.hot=function(e){return e}},37:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=()=>a.a.createElement("div",{className:"container text-center",title:"Loading..."},a.a.createElement("i",{className:"fas fa-sync fa-spin"}))},424:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(34),c=n(60),o=n(59),u=n(1),l=n(9),s=n(4),f=n(37),d=n(54);var p=e=>{const{plugin:t,isInstalling:n}=e,r=Object.entries(t.dependencies.all),i=Object.keys(t.dependencies.unsatisfied);return a.a.createElement("tr",null,a.a.createElement("td",{style:{width:"18%"}},a.a.createElement("div",null,a.a.createElement("b",null,t.title)),a.a.createElement("div",null,t.name)),a.a.createElement("td",{style:{width:"37%"}},t.description),a.a.createElement("td",null,t.author),a.a.createElement("td",null,t.version),a.a.createElement("td",{style:{width:"100px"}},0===r.length?a.a.createElement("i",null,Object(u.a)("admin.noDependencies")):a.a.createElement("div",{className:"d-flex flex-column"},r.map(([e,t])=>{const n=["mb-1","badge",`bg-${i.includes(e)?"red":"green"}`];return a.a.createElement("span",{key:e,className:n.join(" ")},e,": ",t)}))),a.a.createElement("td",{style:{width:"12%"}},t.can_update?a.a.createElement("button",{className:"btn btn-success",disabled:n,onClick:e.onUpdate},n?a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"fas fa-spinner fa-spin mr-1"}),Object(u.a)("admin.pluginUpdating")):a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"fas fa-sync-alt mr-1"}),Object(u.a)("admin.updatePlugin"))):a.a.createElement("button",{className:"btn btn-default",disabled:e.isInstalling||!!t.installed,onClick:e.onInstall},n?a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"fas fa-spinner fa-spin mr-1"}),Object(u.a)("admin.pluginInstalling")):a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"fas fa-download mr-1"}),Object(u.a)("admin.installPlugin")))))};Object(c.b)();t.default=Object(i.hot)(()=>{const[e,t]=Object(o.a)([]),[n,i]=Object(r.useState)(!1),[c,h]=Object(r.useState)(""),[m,v]=Object(r.useState)(1),[b,y]=Object(r.useState)(1),[g,E]=Object(o.a)(()=>new Set),O=Object(r.useMemo)(()=>e.filter(e=>e.name.includes(c)||e.title.includes(c)),[e,c]);Object(r.useEffect)(()=>{(async()=>{i(!0);const e=await l.b("/admin/plugins/market/list");t(()=>e),y(Math.ceil(e.length/10)),i(!1)})()},[]);const P=async(e,n)=>{E(t=>{t.add(e.name)});const{code:r,message:i,data:c={reason:[]}}=await l.c("/admin/plugins/market/download",{name:e.name});0===r?(s.b.success(i),t(e=>{e[n].can_update=!1,e[n].installed=e[n].version})):Object(s.a)({mode:"alert",children:a.a.createElement("div",null,a.a.createElement("p",null,i),a.a.createElement("ul",null,c.reason.map((e,t)=>a.a.createElement("li",{key:t},e))))}),E(t=>{t.delete(e.name)})},j=O.slice(10*(m-1),10*m);return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-header"},a.a.createElement("input",{type:"text",className:"form-control",placeholder:Object(u.a)("vendor.datatable.search"),value:c,onChange:t=>{const n=t.target.value;h(n),v(1);const r=e.filter(e=>e.name.includes(n)||e.title.includes(n));y(Math.ceil(r.length/10))}})),n?a.a.createElement("div",{className:"card-body"},a.a.createElement(f.a,null)):0===O.length?a.a.createElement("div",{className:"card-body text-center"},Object(u.a)("general.noResult")):a.a.createElement("div",{className:"card-body table-responsive p-0"},a.a.createElement("table",{className:"table table-striped"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,Object(u.a)("admin.pluginTitle")),a.a.createElement("th",null,Object(u.a)("admin.pluginDescription")),a.a.createElement("th",null,Object(u.a)("admin.pluginAuthor")),a.a.createElement("th",null,Object(u.a)("admin.pluginVersion")),a.a.createElement("th",null,Object(u.a)("admin.pluginDependencies")),a.a.createElement("th",null,Object(u.a)("admin.operationsTitle")))),a.a.createElement("tbody",null,j.map((e,t)=>a.a.createElement(p,{key:e.name,plugin:e,isInstalling:g.has(e.name),onInstall:()=>P(e,t),onUpdate:()=>(async(e,t)=>{try{await Object(s.a)({text:Object(u.a)("admin.confirmUpdate",{plugin:e.title,old:e.installed,new:e.version})})}catch(e){return}P(e,t)})(e,t)}))))),a.a.createElement("div",{className:"card-footer"},a.a.createElement("div",{className:"float-right"},a.a.createElement(d.a,{page:m,totalPages:b,onChange:v}))))})},54:function(e,t,n){"use strict";var r=n(0),a=n.n(r);var i=e=>{const t=["page-item"];e.active&&t.push("active"),e.disabled&&t.push("disabled");return a.a.createElement("li",{className:t.join(" "),onClick:t=>{t.preventDefault(),!e.disabled&&e.onClick&&e.onClick()}},a.a.createElement("a",{href:"#",className:"page-link","aria-disabled":e.disabled},e.children))};const c="‹",o="›";t.a=e=>{const{page:t,totalPages:n,onChange:r}=e;return n<1?null:a.a.createElement("ul",{className:"pagination"},a.a.createElement(i,{disabled:1===t,onClick:()=>r(t-1)},c),n<8?Array.from({length:n}).map((e,n)=>a.a.createElement(i,{key:n,active:t===n+1,onClick:()=>r(n+1)},n+1)):a.a.createElement(a.a.Fragment,null,t<4?[1,2,3,4].map(e=>a.a.createElement(i,{key:e,active:t===e,onClick:()=>r(e)},e)):a.a.createElement(i,{onClick:()=>r(1)},"1"),a.a.createElement(i,{disabled:!0},"..."),t>3&&t<n-2&&a.a.createElement(a.a.Fragment,null,[t-1,t,t+1].map(e=>a.a.createElement(i,{key:e,active:t===e,onClick:()=>r(e)},e)),a.a.createElement(i,{disabled:!0},"...")),n-t<3?[n-3,n-2,n-1,n].map(e=>a.a.createElement(i,{key:e,active:t===e,onClick:()=>r(e)},e)):a.a.createElement(i,{onClick:()=>r(n)},n)),a.a.createElement(i,{disabled:t===n,onClick:()=>r(t+1)},o))}},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(60),a=n(0);function i(e){var t=Object(a.useState)(e),n=t[1];return[t[0],Object(a.useCallback)((function(e){n(Object(r.a)(e))}),[])]}},60:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function a(e){return!!e&&!!e[$]}function i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[T]||!!e.constructor[T]||f(e)||d(e))}function c(e,t,n){void 0===n&&(n=!1),0===o(e)?(n?Object.keys:V)(e).forEach((function(n){return t(n,e[n],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function o(e){var t=e[$];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:d(e)?3:0}function u(e,t){return 2===o(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===o(e)?e.get(t):e[t]}function s(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return U&&e instanceof Map}function d(e){return K&&e instanceof Set}function p(e){return e.o||e.t}function h(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var n=Object.create(Object.getPrototypeOf(e));return c(e,(function(a){if(a!==$){var i=Object.getOwnPropertyDescriptor(e,a),c=i.value;i.get&&(t||r(1),c=i.get.call(e)),i.enumerable?n[a]=c:Object.defineProperty(n,a,{value:c,writable:!0,configurable:!0})}})),n}function m(e,t){a(e)||Object.isFrozen(e)||!i(e)||(o(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&c(e,(function(e,t){return m(t,!0)}),!0))}function v(){r(2)}function b(e){var t=X[e];return t||r(19,e),t}function y(e,t){X[e]=t}function g(){return z}function E(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function O(e){P(e),e.p.forEach(w),e.p=null}function P(e){e===z&&(z=e.l)}function j(e){return z={p:[],l:z,h:e,m:!0,_:0}}function w(e){var t=e[$];0===t.i||1===t.i?t.j():t.O=!0}function k(e,t){t._=t.p.length;var n=t.p[0],a=void 0!==e&&e!==n;return t.h.g||b("ES5").S(t,e,a),a?(n[$].P&&(O(t),r(4)),i(e)&&(e=A(t,e),t.l||S(t,e)),t.u&&b("Patches").M(n[$],e,t.u,t.s)):e=A(t,n,[]),O(t),t.u&&t.v(t.u,t.s),e!==J?e:void 0}function A(e,t,n){if(Object.isFrozen(t))return t;var r=t[$];if(!r)return c(t,(function(a,i){return N(e,r,t,a,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return S(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=4===r.i||5===r.i?r.o=h(r.k,!0):r.o;c(a,(function(t,i){return N(e,r,a,t,i,n)})),S(e,a,!1),n&&e.u&&b("Patches").R(r,n,e.u,e.s)}return r.o}function N(e,t,n,r,c,f){if(a(c)){var d=A(e,c,f&&t&&3!==t.i&&!u(t.D,r)?f.concat(r):void 0);if(h=r,m=d,2===(v=o(p=n))?p.set(h,m):3===v?(p.delete(h),p.add(m)):p[h]=m,!a(d))return;e.m=!1}var p,h,m,v;if((!t||!s(c,l(t.t,r)))&&i(c)){if(!e.h.N&&e._<1)return;A(e,c),t&&t.A.l||S(e,c)}}function S(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&m(t,n)}function D(e,t){var n=e[$],r=Reflect.getOwnPropertyDescriptor(n?p(n):e,t);return r&&r.value}function x(e){if(!e.P){if(e.P=!0,0===e.i||1===e.i){var t=e.o=h(e.t);c(e.p,(function(e,n){t[e]=n})),e.p=void 0}e.l&&x(e.l)}}function C(e){e.o||(e.o=h(e.t))}function _(e,t,n){var r=f(t)?b("MapSet").T(t,n):d(t)?b("MapSet").F(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:g(),P:!1,I:!1,D:{},l:t,t:e,k:null,p:{},o:null,j:null,C:!1},a=r,i=q;n&&(a=[r],i=B);var c=Proxy.revocable(a,i),o=c.revoke,u=c.proxy;return r.k=u,r.j=o,u}(t,n):b("ES5").J(t,n);return(n?n.A:g()).p.push(r),r}function F(e,t){e.g?x(t):b("ES5").K(t)}function I(){function e(e,t){function n(){this.constructor=e}c(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function n(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(i(t)){var n=_(e.A.h,t,e);e.p.set(t,n),e.o.add(n)}else e.o.add(t)})))}function a(e){e.O&&r(3,JSON.stringify(p(e)))}var c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},o=function(){function n(e,t){return this[$]={i:2,l:t,A:t?t.A:g(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,O:!1},this}e(n,Map);var r=n.prototype;return Object.defineProperty(r,"size",{get:function(){return p(this[$]).size}}),r.has=function(e){return p(this[$]).has(e)},r.set=function(e,n){var r=this[$];return a(r),p(r).get(e)!==n&&(t(r),F(r.A.h,r),r.D.set(e,!0),r.o.set(e,n),r.D.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var n=this[$];return a(n),t(n),F(n.A.h,n),n.D.set(e,!1),n.o.delete(e),!0},r.clear=function(){var e=this[$];return a(e),t(e),F(e.A.h,e),e.D=new Map,e.o.clear()},r.forEach=function(e,t){var n=this;p(this[$]).forEach((function(r,a){e.call(t,n.get(a),a,n)}))},r.get=function(e){var n=this[$];a(n);var r=p(n).get(e);if(n.I||!i(r))return r;if(r!==n.t.get(e))return r;var c=_(n.A.h,r,n);return t(n),n.o.set(e,c),c},r.keys=function(){return p(this[$]).keys()},r.values=function(){var e,t=this,n=this.keys();return(e={})[L]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,n=this.keys();return(e={})[L]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var r=t.get(e.value);return{done:!1,value:[e.value,r]}},e},r[L]=function(){return this.entries()},n}(),u=function(){function t(e,t){return this[$]={i:3,l:t,A:t?t.A:g(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,O:!1,C:!1},this}e(t,Set);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return p(this[$]).size}}),r.has=function(e){var t=this[$];return a(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},r.add=function(e){var t=this[$];return a(t),t.o?t.o.add(e):t.t.has(e)||(n(t),F(t.A.h,t),t.o.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[$];return a(t),n(t),F(t.A.h,t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},r.clear=function(){var e=this[$];return a(e),n(e),F(e.A.h,e),e.o.clear()},r.values=function(){var e=this[$];return a(e),n(e),e.o.values()},r.entries=function(){var e=this[$];return a(e),n(e),e.o.entries()},r.keys=function(){return this.values()},r[L]=function(){return this.values()},r.forEach=function(e,t){for(var n=this.values(),r=n.next();!r.done;)e.call(t,r.value,r.value,this),r=n.next()},t}();y("MapSet",{T:function(e,t){return new o(e,t)},F:function(e,t){return new u(e,t)}})}n.d(t,"b",(function(){return I}));var M,z,R="undefined"!=typeof Symbol,U="undefined"!=typeof Map,K="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,J=R?Symbol("immer-nothing"):((M={})["immer-nothing"]=!0,M),T=R?Symbol("immer-draftable"):"__$immer_draftable",$=R?Symbol("immer-state"):"__$immer_state",L=R?Symbol.iterator:"@@iterator",V="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,X={},q={get:function(e,t){if(t===$)return e;var n=e.p;if(!e.P&&u(n,t))return n[t];var r=p(e)[t];if(e.I||!i(r))return r;if(e.P){if(r!==D(e.t,t))return r;n=e.o}return n[t]=_(e.A.h,r,e)},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){if(!e.P){var r=D(e.t,t);if(n?s(r,n)||n===e.p[t]:s(r,n)&&t in e.t)return!0;C(e),x(e)}return e.D[t]=!0,e.o[t]=n,!0},deleteProperty:function(e,t){return void 0!==D(e.t,t)||t in e.t?(e.D[t]=!1,C(e),x(e)):e.D[t]&&delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&(r.writable=!0,r.configurable=1!==e.i||"length"!==t),r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},B={};c(q,(function(e,t){B[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),B.deleteProperty=function(e,t){return q.deleteProperty.call(this,e[0],t)},B.set=function(e,t,n){return q.set.call(this,e[0],t,n,e[0])};var G=new(function(){function e(e){this.g=W,this.N=!1,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var c=this;return function(e){var n=this;void 0===e&&(e=a);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return c.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(i))}))}}var o;if("function"!=typeof t&&r(6),void 0!==n&&"function"!=typeof n&&r(7),i(e)){var u=j(this),l=_(this,e,void 0),s=!0;try{o=t(l),s=!1}finally{s?O(u):P(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return E(u,n),k(e,u)}),(function(e){throw O(u),e})):(E(u,n),k(o,u))}if((o=t(e))!==J)return void 0===o&&(o=e),this.N&&m(o,!0),o},t.produceWithPatches=function(e,t){var n,r,a=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return a.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){i(e)||r(8);var t=j(this),n=_(this,e,void 0);return n[$].C=!0,P(t),n},t.finishDraft=function(e,t){var n=(e&&e[$]).A;return E(n,t),k(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){W||r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=b("Patches").U;return a(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}()),H=G.produce;G.produceWithPatches.bind(G),G.setAutoFreeze.bind(G),G.setUseProxies.bind(G),G.applyPatches.bind(G),G.createDraft.bind(G),G.finishDraft.bind(G);t.a=H}}]);