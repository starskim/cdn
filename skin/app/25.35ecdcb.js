(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{29:function(e,t,a){t.hot=function(e){return e}},38:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=()=>c.a.createElement("div",{className:"container text-center",title:"Loading..."},c.a.createElement("i",{className:"fas fa-sync fa-spin"}))},435:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(29),l=a(1),s=a(5),i=a(3),o=a(38),m=a(75);var u=e=>{const{app:t}=e;return c.a.createElement("tr",null,c.a.createElement("td",null,t.id),c.a.createElement("td",null,c.a.createElement("span",null,t.name),c.a.createElement(m.a,{title:Object(l.a)("user.oauth.modifyName"),onClick:e.onEditName})),c.a.createElement("td",null,t.secret),c.a.createElement("td",null,c.a.createElement("span",null,t.redirect),c.a.createElement(m.a,{title:Object(l.a)("user.oauth.modifyUrl"),onClick:e.onEditRedirect})),c.a.createElement("td",null,c.a.createElement("button",{className:"btn btn-danger",onClick:e.onDelete},Object(l.a)("report.delete"))))},d=a(10);var b=e=>{const[t,a]=Object(n.useState)(""),[r,s]=Object(n.useState)("");return c.a.createElement(d.a,{show:e.show,onConfirm:()=>{e.onCreate(t,r)},onDismiss:()=>{a(""),s("")},onClose:e.onClose},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"new-app-name"},Object(l.a)("user.oauth.name")),c.a.createElement("input",{value:t,onChange:e=>{a(e.target.value)},className:"form-control",id:"new-app-name",type:"text",required:!0})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"new-app-redirect"},Object(l.a)("user.oauth.redirect")),c.a.createElement("input",{value:r,onChange:e=>{s(e.target.value)},className:"form-control",id:"new-app-redirect",type:"url",required:!0})))};t.default=Object(r.hot)(()=>{const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)(!1),[m,d]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{r(!0);const e=await s.b("/oauth/clients");t(e),r(!1)})()},[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"btn btn-primary",onClick:()=>d(!0)},Object(l.a)("user.oauth.create")),c.a.createElement("div",{className:"card mt-2"},c.a.createElement("div",{className:"card-body p-0"},c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,Object(l.a)("user.oauth.id")),c.a.createElement("th",null,Object(l.a)("user.oauth.name")),c.a.createElement("th",null,Object(l.a)("user.oauth.secret")),c.a.createElement("th",null,Object(l.a)("user.oauth.redirect")),c.a.createElement("th",null,Object(l.a)("admin.operationsTitle")))),c.a.createElement("tbody",null,0===e.length?c.a.createElement("tr",null,c.a.createElement("td",{className:"text-center",colSpan:5},a?c.a.createElement(o.a,null):"Nothing here.")):e.map((e,a)=>c.a.createElement(u,{key:e.id,app:e,onEditName:()=>(async(e,a)=>{let n;try{const{value:t}=await Object(i.a)({mode:"prompt",title:Object(l.a)("user.oauth.name"),input:e.name});n=t}catch(e){return}const c=await s.d(`/oauth/clients/${e.id}`,Object.assign(Object.assign({},e),{name:n}));"id"in c?t(t=>(t[a]=Object.assign(Object.assign({},e),{name:n}),t.slice())):i.b.error(c.message)})(e,a),onEditRedirect:()=>(async(e,a)=>{let n;try{const{value:t}=await Object(i.a)({mode:"prompt",title:Object(l.a)("user.oauth.redirect"),input:e.redirect});n=t}catch(e){return}const c=await s.d(`/oauth/clients/${e.id}`,Object.assign(Object.assign({},e),{redirect:n}));"id"in c?t(t=>(t[a]=Object.assign(Object.assign({},e),{redirect:n}),t.slice())):i.b.error(c.message)})(e,a),onDelete:()=>(async e=>{try{await Object(i.a)({text:Object(l.a)("user.oauth.confirmRemove"),okButtonType:"danger"})}catch(e){return}await s.a(`/oauth/clients/${e.id}`),t(t=>t.filter(t=>t.id!==e.id))})(e)})))))),c.a.createElement(b,{show:m,onCreate:async(e,a)=>{const n=await s.c("/oauth/clients",{name:e,redirect:a});"id"in n?t(e=>[...e,n]):i.b.error(n.message)},onClose:()=>d(!1)}))})},75:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=e=>c.a.createElement("a",{href:"#",title:e.title,className:"ml-2",onClick:e.onClick},c.a.createElement("i",{className:"fas fa-edit"}))}}]);