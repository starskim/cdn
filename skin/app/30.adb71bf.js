(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{38:function(e,a,t){"use strict";var n,l;t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return l})),function(e){e[e.Banned=-1]="Banned",e[e.Normal=0]="Normal",e[e.Admin=1]="Admin",e[e.SuperAdmin=2]="SuperAdmin"}(n||(n={})),function(e){e.Steve="steve",e.Alex="alex",e.Cape="cape"}(l||(l={}))},437:function(e,a,t){"use strict";t.r(a);var n,l=t(0),c=t.n(l),s=t(31),r=t(57),m=t(1),i=t(6),d=t(38),o=t(4),u=t(47),b=t(51),p=t(61),E=t(32);!function(e){e[e.Pending=0]="Pending",e[e.Resolved=1]="Resolved",e[e.Rejected=2]="Rejected"}(n||(n={}));const v=E.a.div`
  width: 240px;
  transition-property: box-shadow;
  transition-duration: 0.3s;

  .card-body {
    flex: unset;
    display: flex;
    justify-content: center;
  }

  img {
    cursor: pointer;
    width: 170px;
    height: 170px;
  }

  .card-footer {
    flex: 1 1 auto;
    * {
      margin: 2.5px 0;
    }
  }
`;var N=e=>{var a,t;const{report:l}=e;return c.a.createElement(v,{className:"card mr-3 mb-3"},c.a.createElement("div",{className:"card-header"},c.a.createElement("b",null,Object(m.a)("skinlib.show.uploader"),": "),c.a.createElement("span",{className:"mr-1"},null===(a=l.texture_uploader)||void 0===a?void 0:a.nickname),"(UID: ",l.uploader,")"),c.a.createElement("div",{className:"card-body"},c.a.createElement("img",{src:`${blessing.base_url}/preview/${l.tid}?height=150`,alt:l.tid.toString(),className:"card-img-top",onClick:()=>e.onClick(l.texture)})),c.a.createElement("div",{className:"card-footer"},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("div",null,l.status===n.Pending?c.a.createElement("span",{className:"badge bg-warning"},Object(m.a)("report.status.0")):l.status===n.Resolved?c.a.createElement("span",{className:"badge bg-success"},Object(m.a)("report.status.1")):c.a.createElement("span",{className:"badge bg-danger"},Object(m.a)("report.status.2")),c.a.createElement("span",{className:"badge bg-info ml-1"},"TID: ",l.tid)),c.a.createElement("div",{className:"dropdown"},c.a.createElement("a",{className:"text-gray",href:"#","data-toggle":"dropdown","aria-expanded":"false"},c.a.createElement("i",{className:"fas fa-cog"})),c.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},c.a.createElement("a",{href:`${blessing.base_url}/skinlib/show/${l.tid}`,className:"dropdown-item",target:"_blank"},c.a.createElement("i",{className:"fas fa-share-square mr-2"}),Object(m.a)("user.viewInSkinlib")),c.a.createElement("a",{href:"#",className:"dropdown-item",onClick:e.onBan},c.a.createElement("i",{className:"fas fa-user-slash mr-2"}),Object(m.a)("report.ban")),c.a.createElement("a",{href:"#",className:"dropdown-item dropdown-item-danger",onClick:e.onDelete},c.a.createElement("i",{className:"fas fa-trash mr-2"}),Object(m.a)("skinlib.show.delete-texture")),c.a.createElement("a",{href:"#",className:"dropdown-item",onClick:e.onReject},c.a.createElement("i",{className:"fas fa-thumbs-down mr-2"}),Object(m.a)("report.reject"))))),c.a.createElement("div",null,c.a.createElement("b",null,Object(m.a)("report.reporter"),": "),c.a.createElement("span",{className:"mr-1"},null===(t=l.informer)||void 0===t?void 0:t.nickname),"(UID: ",l.reporter,")"),c.a.createElement("details",null,c.a.createElement("summary",{className:"text-truncate"},c.a.createElement("b",null,Object(m.a)("report.reason"),": "),l.reason),c.a.createElement("div",null,l.reason),c.a.createElement("div",null,c.a.createElement("small",null,Object(m.a)("report.time"),": ",l.report_at)))))};const g=c.a.lazy(()=>Promise.all([t.e(0),t.e(4)]).then(t.bind(null,154)));a.default=Object(s.hot)(()=>{const[e,a]=Object(r.a)([]),[t,n]=Object(l.useState)(1),[s,E]=Object(l.useState)(1),[v,f]=Object(l.useState)(!0),[k,h]=Object(l.useState)("status:0 sort:-report_at"),[j,w]=Object(l.useState)(null),y=async()=>{f(!0);const{data:e,last_page:n}=await i.b("/admin/reports/list",{q:k,page:t});E(n),a(()=>e),f(!1)};Object(l.useEffect)(()=>{y()},[t]);const x=async(e,t,n)=>{const l=await i.d(`/admin/reports/${e.id}`,{action:n});0===l.code?(o.b.success(l.message),a(e=>{e[t].status=l.data.status})):o.b.error(l.message)},O=j&&`${blessing.base_url}/textures/${j.hash}`;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-8"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},c.a.createElement("form",{className:"input-group",onSubmit:e=>{e.preventDefault(),y()}},c.a.createElement("input",{type:"text",className:"form-control",title:Object(m.a)("vendor.datatable.search"),value:k,onChange:e=>{h(e.target.value)}}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-primary",type:"submit"},Object(m.a)("vendor.datatable.search"))))),v?c.a.createElement("div",{className:"card-body"},c.a.createElement(u.a,null)):0===e.length?c.a.createElement("div",{className:"card-body text-center"},Object(m.a)("general.noResult")):c.a.createElement("div",{className:"card-body d-flex flex-wrap"},e.map((e,a)=>c.a.createElement(N,{key:e.id,report:e,onClick:w,onBan:()=>x(e,a,"ban"),onDelete:()=>(async(e,a)=>{try{await Object(o.a)({text:Object(m.a)("skinlib.deleteNotice"),okButtonType:"danger"})}catch(e){return}x(e,a,"delete")})(e,a),onReject:()=>x(e,a,"reject")}))),c.a.createElement("div",{className:"card-footer"},c.a.createElement("div",{className:"float-right"},c.a.createElement(b.a,{page:t,totalPages:s,onChange:n}))))),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(c.a.Suspense,{fallback:c.a.createElement(p.a,null)},c.a.createElement(g,Object.assign({},{[(null==j?void 0:j.type)===d.a.Cape?d.a.Cape:"skin"]:O},{isAlex:(null==j?void 0:j.type)===d.a.Alex})))))})},47:function(e,a,t){"use strict";var n=t(0),l=t.n(n);a.a=()=>l.a.createElement("div",{className:"container text-center",title:"Loading..."},l.a.createElement("i",{className:"fas fa-sync fa-spin"}))},51:function(e,a,t){"use strict";var n=t(0),l=t.n(n),c=t(1);var s=e=>{const a=["page-item"];e.active&&a.push("active"),e.disabled&&a.push("disabled"),e.className&&a.push(e.className);return l.a.createElement("li",{className:a.join(" "),title:e.title,onClick:a=>{a.preventDefault(),!e.disabled&&e.onClick&&e.onClick()}},l.a.createElement("a",{href:"#",className:"page-link","aria-disabled":e.disabled},e.children))};const r="‹",m="›";a.a=e=>{const{page:a,totalPages:t,onChange:n}=e;return t<1?null:l.a.createElement("ul",{className:"pagination"},l.a.createElement(s,{title:Object(c.a)("vendor.datatable.prev"),disabled:1===a,onClick:()=>n(a-1)},r,l.a.createElement("span",{className:"d-inline d-sm-none ml-1"},Object(c.a)("vendor.datatable.prev"))),t<8?Array.from({length:t}).map((e,t)=>l.a.createElement(s,{key:t,className:"d-none d-sm-block",active:a===t+1,onClick:()=>n(t+1)},t+1)):l.a.createElement(l.a.Fragment,null,a<4?[1,2,3,4].map(e=>l.a.createElement(s,{key:e,className:"d-none d-sm-block",active:a===e,onClick:()=>n(e)},e)):l.a.createElement(s,{className:"d-none d-sm-block",onClick:()=>n(1)},"1"),l.a.createElement(s,{className:"d-none d-sm-block",disabled:!0},"..."),a>3&&a<t-2&&l.a.createElement(l.a.Fragment,null,[a-1,a,a+1].map(e=>l.a.createElement(s,{key:e,className:"d-none d-sm-block",active:a===e,onClick:()=>n(e)},e)),l.a.createElement(s,{className:"d-none d-sm-block",disabled:!0},"...")),t-a<3?[t-3,t-2,t-1,t].map(e=>l.a.createElement(s,{key:e,className:"d-none d-sm-block",active:a===e,onClick:()=>n(e)},e)):l.a.createElement(s,{className:"d-none d-sm-block",onClick:()=>n(t)},t)),l.a.createElement(s,{title:Object(c.a)("vendor.datatable.next"),disabled:a===t,onClick:()=>n(a+1)},l.a.createElement("span",{className:"d-inline d-sm-none mr-1"},Object(c.a)("vendor.datatable.next")),m))}},61:function(e,a,t){"use strict";var n=t(0),l=t.n(n),c=t(1);a.a=()=>l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("h3",{className:"card-title"},l.a.createElement("span",null,Object(c.a)("general.texturePreview"))))),l.a.createElement("div",{className:"card-body"}))}}]);