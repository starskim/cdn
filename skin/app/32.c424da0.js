(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{144:function(e,a,t){"use strict";var n=t(0),c=t(7),l=t(1);const i=c.b`
  ::after {
    display: none;
  }
`;a.a=e=>{var a;const t=Object(n.useRef)(null);return Object(c.c)("div",{className:"form-group"},Object(c.c)("label",{htmlFor:"select-file"},Object(l.a)("skinlib.upload.select-file")),Object(c.c)("div",{className:"input-group"},Object(c.c)("div",{className:"custom-file"},Object(c.c)("input",{type:"file",className:"custom-file-input",id:"select-file",accept:e.accept,title:Object(l.a)("skinlib.upload.select-file"),ref:t,onChange:e.onChange}),Object(c.c)("label",{className:"custom-file-label",css:i},null===(a=e.file)||void 0===a?void 0:a.name)),Object(c.c)("div",{className:"input-group-append"},Object(c.c)("button",{className:"btn btn-default",onClick:()=>{t.current.click()}},Object(l.a)("skinlib.upload.select-file")))))}},37:function(e,a,t){"use strict";var n=t(0),c=t.n(n);a.a=()=>c.a.createElement("div",{className:"container text-center",title:"Loading..."},c.a.createElement("i",{className:"fas fa-sync fa-spin"}))},423:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(34),i=t(59),s=t(1),r=t(9),m=t(4),o=t(144),d=t(37),u=t(38);const b=u.a.div`
  cursor: default;
  transition-property: box-shadow;
  transition-duration: 0.3s;
  &:hover {
    box-shadow: 0 0.5rem 1rem rgba(#000, 0.15);
  }

  .info-box-content {
    max-width: calc(100% - 70px);
  }
`,p=u.a.a`
  transition-property: color;
  transition-duration: 0.3s;
  color: #000;
  &:hover {
    color: #999;
  }
  &:not(:last-child) {
    margin-right: 9px;
  }
`,f=u.a.div`
  max-width: calc(100% - 40px);
  display: flex;
`,g=u.a.div`
  font-size: 14px;
`;var E=e=>{const{plugin:a}=e;return c.a.createElement(b,{className:"info-box mr-3"},c.a.createElement("span",{className:`info-box-icon bg-${a.icon.bg}`},c.a.createElement("i",{className:`${a.icon.faType} fa-${a.icon.fa}`})),c.a.createElement("div",{className:"info-box-content"},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement(f,null,c.a.createElement("input",{className:"mr-2 d-inline-block",type:"checkbox",checked:a.enabled,title:a.enabled?Object(s.a)("admin.disablePlugin"):Object(s.a)("admin.enablePlugin"),onChange:t=>{t.preventDefault(),t.target.checked?e.onEnable(a):e.onDisable(a)}}),c.a.createElement("strong",{className:"d-inline-block mr-2 text-truncate"},a.title),c.a.createElement("span",{className:"d-none d-sm-inline-block text-gray"},"v",a.version)),c.a.createElement("div",null,a.readme&&c.a.createElement(p,{href:`${e.baseUrl}/admin/plugins/readme/${a.name}`,title:Object(s.a)("admin.pluginReadme")},c.a.createElement("i",{className:"fas fa-question"})),a.enabled&&a.config&&c.a.createElement(p,{href:`${e.baseUrl}/admin/plugins/config/${a.name}`,title:Object(s.a)("admin.configurePlugin")},c.a.createElement("i",{className:"fas fa-cog"})),c.a.createElement(p,{href:"#",title:Object(s.a)("admin.deletePlugin"),onClick:()=>e.onDelete(a)},c.a.createElement("i",{className:"fas fa-trash"})))),c.a.createElement(g,{className:"mt-2 text-truncate",title:a.description},a.description)))};a.default=Object(l.hot)(()=>{const[e,a]=Object(n.useState)(!1),[t,l]=Object(i.a)([]),[u,b]=Object(n.useState)(null),[p,f]=Object(n.useState)(!1),[g,v]=Object(n.useState)(""),[N,h]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{a(!0);const e=await r.b("/admin/plugins/data");l(()=>e),a(!1)})()},[]);const j=async e=>{try{await Object(m.a)({title:e.title,text:Object(s.a)("admin.confirmDeletion"),okButtonType:"danger"})}catch(e){return}const{code:a,message:t}=await r.c("/admin/plugins/manage",{action:"delete",name:e.name});if(0===a){const{name:a}=e;l(e=>e.filter(e=>e.name!==a)),m.b.success(t)}else m.b.error(t)},O=Array(Math.ceil(t.length/2)).fill(null).map((e,a)=>t.slice(2*a,2*(a+1)));return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-8"},e?c.a.createElement(d.a,null):O.map((e,a)=>{var t;return c.a.createElement("div",{className:"row",key:`${e[0].name}&${null===(t=e[1])||void 0===t?void 0:t.name}`},e.map((e,t)=>c.a.createElement("div",{className:"col-md-6",key:e.name},c.a.createElement(E,{plugin:e,onEnable:e=>(async(e,a)=>{const{code:t,message:n,data:{reason:i}={reason:[]}}=await r.c("/admin/plugins/manage",{action:"enable",name:e.name});0===t?(m.b.success(n),l(e=>{e[a].enabled=!0})):Object(m.a)({mode:"alert",children:c.a.createElement("div",null,c.a.createElement("p",null,n),c.a.createElement("ul",null,i.map((e,a)=>c.a.createElement("li",{key:a},e))))})})(e,2*a+t),onDisable:e=>(async(e,a)=>{const{code:t,message:n}=await r.c("/admin/plugins/manage",{action:"disable",name:e.name});0===t?(m.b.success(n),l(e=>{e[a].enabled=!1})):m.b.error(n)})(e,2*a+t),onDelete:j,baseUrl:blessing.base_url}))))})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("div",{className:"card card-primary card-outline"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h3",{className:"card-title"},Object(s.a)("admin.uploadArchive"))),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",null,Object(s.a)("admin.uploadArchiveNotice")),c.a.createElement(o.a,{file:u,accept:"application/zip",onChange:e=>{b(e.target.files[0])}})),c.a.createElement("div",{className:"card-footer"},c.a.createElement("button",{className:"btn btn-primary float-right",disabled:p,onClick:async()=>{if(!u)return;f(!0);const e=new FormData;e.append("file",u,u.name);const{code:a,message:t}=await r.c("/admin/plugins/upload",e);if(f(!1),0===a){m.b.success(t),b(null);const e=await r.b("/admin/plugins/data");l(()=>e)}else m.b.error(t)}},p?c.a.createElement(d.a,null):Object(s.a)("general.submit")))),c.a.createElement("div",{className:"card card-primary card-outline"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h3",{className:"card-title"},Object(s.a)("admin.downloadRemote"))),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",null,Object(s.a)("admin.downloadRemoteNotice")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"zip-url"},"URL"),c.a.createElement("input",{type:"text",id:"zip-url",className:"form-control",value:g,onChange:e=>{v(e.target.value)}}))),c.a.createElement("div",{className:"card-footer"},c.a.createElement("button",{className:"btn btn-primary float-right",disabled:N,onClick:async()=>{h(!0);const{code:e,message:a}=await r.c("/admin/plugins/wget",{url:g});if(h(!1),0===e){m.b.success(a),v("");const e=await r.b("/admin/plugins/data");l(()=>e)}else m.b.error(a)}},N?c.a.createElement(d.a,null):Object(s.a)("general.submit"))))))})}}]);