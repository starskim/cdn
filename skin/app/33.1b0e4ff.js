(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{147:function(e,a,t){"use strict";var n=t(0),l=t(5),c=t(1);const s=l.css`
  ::after {
    display: none;
  }
`;a.a=e=>{var a;const t=Object(n.useRef)(null);return Object(l.jsx)("div",{className:"form-group"},Object(l.jsx)("label",{htmlFor:"select-file"},Object(c.a)("skinlib.upload.select-file")),Object(l.jsx)("div",{className:"input-group"},Object(l.jsx)("div",{className:"custom-file"},Object(l.jsx)("input",{type:"file",className:"custom-file-input",id:"select-file",accept:e.accept,title:Object(c.a)("skinlib.upload.select-file"),ref:t,onChange:e.onChange}),Object(l.jsx)("label",{className:"custom-file-label",css:s},null===(a=e.file)||void 0===a?void 0:a.name)),Object(l.jsx)("div",{className:"input-group-append"},Object(l.jsx)("button",{className:"btn btn-default",onClick:()=>{t.current.click()}},Object(c.a)("skinlib.upload.select-file")))))}},439:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(31),s=t(57),i=t(1),r=t(6),m=t(4),o=t(147),d=t(47),u=t(32);const b=u.a.div`
  cursor: default;
  transition-property: box-shadow;
  transition-duration: 0.3s;
  &:hover {
    box-shadow: 0 0.5rem 1rem rgba(#000, 0.15);
  }

  .info-box-content {
    max-width: calc(100% - 70px);
  }
`,p=u.a.a`
  transition-property: color;
  transition-duration: 0.3s;
  color: #000;
  &:hover {
    color: #999;
  }
  &:not(:last-child) {
    margin-right: 9px;
  }
`,f=u.a.div`
  max-width: calc(100% - 40px);
  display: flex;
`,g=u.a.div`
  font-size: 14px;
`;var E=e=>{const{plugin:a}=e;return l.a.createElement(b,{className:"info-box mr-3"},l.a.createElement("span",{className:`info-box-icon bg-${a.icon.bg}`},l.a.createElement("i",{className:`${a.icon.faType} fa-${a.icon.fa}`})),l.a.createElement("div",{className:"info-box-content"},l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement(f,null,l.a.createElement("input",{className:"mr-2 d-inline-block",type:"checkbox",checked:a.enabled,title:a.enabled?Object(i.a)("admin.disablePlugin"):Object(i.a)("admin.enablePlugin"),onChange:t=>{t.preventDefault(),t.target.checked?e.onEnable(a):e.onDisable(a)}}),l.a.createElement("strong",{className:"d-inline-block mr-2 text-truncate"},a.title),l.a.createElement("span",{className:"d-none d-sm-inline-block text-gray"},"v",a.version)),l.a.createElement("div",null,a.readme&&l.a.createElement(p,{href:`${e.baseUrl}/admin/plugins/readme/${a.name}`,title:Object(i.a)("admin.pluginReadme")},l.a.createElement("i",{className:"fas fa-question"})),a.enabled&&a.config&&l.a.createElement(p,{href:`${e.baseUrl}/admin/plugins/config/${a.name}`,title:Object(i.a)("admin.configurePlugin")},l.a.createElement("i",{className:"fas fa-cog"})),l.a.createElement(p,{href:"#",title:Object(i.a)("admin.deletePlugin"),onClick:()=>e.onDelete(a)},l.a.createElement("i",{className:"fas fa-trash"})))),l.a.createElement(g,{className:"mt-2 text-truncate",title:a.description},a.description)))};a.default=Object(c.hot)(()=>{const[e,a]=Object(n.useState)(!0),[t,c]=Object(s.a)([]),[u,b]=Object(n.useState)(null),[p,f]=Object(n.useState)(!1),[g,v]=Object(n.useState)(""),[j,N]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{a(!0);const e=await r.b("/admin/plugins/data");c(()=>e),a(!1)})()},[]);const h=async e=>{try{await Object(m.a)({title:e.title,text:Object(i.a)("admin.confirmDeletion"),okButtonType:"danger"})}catch(e){return}const{code:a,message:t}=await r.c("/admin/plugins/manage",{action:"delete",name:e.name});if(0===a){const{name:a}=e;c(e=>e.filter(e=>e.name!==a)),m.b.success(t)}else m.b.error(t)},O=Array(Math.ceil(t.length/2)).fill(null).map((e,a)=>t.slice(2*a,2*(a+1)));return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8"},e?l.a.createElement(d.a,null):0===t.length?Object(i.a)("general.noResult"):O.map((e,a)=>{var t;return l.a.createElement("div",{className:"row",key:`${e[0].name}&${null===(t=e[1])||void 0===t?void 0:t.name}`},e.map((e,t)=>l.a.createElement("div",{className:"col-md-6",key:e.name},l.a.createElement(E,{plugin:e,onEnable:e=>(async(e,a)=>{const{code:t,message:n,data:{reason:s}={reason:[]}}=await r.c("/admin/plugins/manage",{action:"enable",name:e.name});0===t?(m.b.success(n),c(e=>{e[a].enabled=!0})):Object(m.a)({mode:"alert",children:l.a.createElement("div",null,l.a.createElement("p",null,n),l.a.createElement("ul",null,s.map((e,a)=>l.a.createElement("li",{key:a},e))))})})(e,2*a+t),onDisable:e=>(async(e,a)=>{const{code:t,message:n}=await r.c("/admin/plugins/manage",{action:"disable",name:e.name});0===t?(m.b.success(n),c(e=>{e[a].enabled=!1})):m.b.error(n)})(e,2*a+t),onDelete:h,baseUrl:blessing.base_url}))))})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"card card-primary card-outline"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h3",{className:"card-title"},Object(i.a)("admin.uploadArchive"))),l.a.createElement("div",{className:"card-body"},l.a.createElement("p",null,Object(i.a)("admin.uploadArchiveNotice")),l.a.createElement(o.a,{file:u,accept:"application/zip",onChange:e=>{b(e.target.files[0])}})),l.a.createElement("div",{className:"card-footer"},l.a.createElement("button",{className:"btn btn-primary float-right",disabled:p,onClick:async()=>{if(!u)return;f(!0);const e=new FormData;e.append("file",u,u.name);const{code:a,message:t}=await r.c("/admin/plugins/upload",e);if(f(!1),0===a){m.b.success(t),b(null);const e=await r.b("/admin/plugins/data");c(()=>e)}else m.b.error(t)}},p?l.a.createElement(d.a,null):Object(i.a)("general.submit")))),l.a.createElement("div",{className:"card card-primary card-outline"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h3",{className:"card-title"},Object(i.a)("admin.downloadRemote"))),l.a.createElement("div",{className:"card-body"},l.a.createElement("p",null,Object(i.a)("admin.downloadRemoteNotice")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"zip-url"},"URL"),l.a.createElement("input",{type:"text",id:"zip-url",className:"form-control",value:g,onChange:e=>{v(e.target.value)}}))),l.a.createElement("div",{className:"card-footer"},l.a.createElement("button",{className:"btn btn-primary float-right",disabled:j,onClick:async()=>{N(!0);const{code:e,message:a}=await r.c("/admin/plugins/wget",{url:g});if(N(!1),0===e){m.b.success(a),v("");const e=await r.b("/admin/plugins/data");c(()=>e)}else m.b.error(a)}},j?l.a.createElement(d.a,null):Object(i.a)("general.submit"))))))})},47:function(e,a,t){"use strict";var n=t(0),l=t.n(n);a.a=()=>l.a.createElement("div",{className:"container text-center",title:"Loading..."},l.a.createElement("i",{className:"fas fa-sync fa-spin"}))}}]);