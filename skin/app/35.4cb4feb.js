(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{414:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(38),c=a(34),o=a(1),i=a(9),l=a(4),u=a(276);var m=a(14),d=a(49);var b=s.a.memo(e=>{const t=e.used/e.total*100;return s.a.createElement("div",{className:`info-box bg-${e.color}`},s.a.createElement("span",{className:"info-box-icon"},s.a.createElement("i",{className:`fas fa-${e.icon}`})),s.a.createElement("div",{className:"info-box-content"},s.a.createElement("span",{className:"info-box-text"},e.name),s.a.createElement("span",{className:"info-box-number"},s.a.createElement("b",null,e.used)," / ",e.total," ",e.unit),s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"progress-bar",style:{width:`${t}%`}}))))});const f=6e4,p=60*f,g=24*p;var E=s.a.memo(e=>{const{lastSign:t,signGap:a,canSignAfterZero:n}=e,r=function(e,t,a){if(a){const t=(new Date).setHours(0,0,0,0),a=t+g-Date.now();return e.valueOf()<t?0:a}return e.valueOf()+t*p-Date.now()}(t,a,n),c=function(e){const t=e/f;return t<60?Object(o.a)("user.sign-remain-time",{time:~~t,unit:Object(o.a)("user.time-unit-min")}):Object(o.a)("user.sign-remain-time",{time:~~(t/60),unit:Object(o.a)("user.time-unit-hour")})}(r),i=r<=0;return s.a.createElement("button",{className:"btn bg-gradient-primary pl-4 pr-4",role:"button",disabled:!i||e.isLoading,onClick:e.onClick},s.a.createElement("i",{className:"far fa-calendar-check","aria-hidden":"true"})," Â ",i?Object(o.a)("user.sign"):c)});const O=r.a.p`
  font-weight: bold;
  margin-top: 5px;
  ${d.d(d.a.md)} {
    margin-top: 12px;
  }
`,j=r.a.p`
  font-family: 'Minecraft';
  font-size: 50px;
  margin-top: 20px;
  cursor: help;
`,w=r.a.p`
  font-size: smaller;
  margin-top: 20px;
`;t.default=Object(c.hot)(()=>{const[e,t]=Object(n.useState)(!1),[a,r]=Object(n.useState)({used:0,total:1}),[c,d]=Object(n.useState)({used:0,total:1}),[f,p]=function(e){const[t,a]=Object(n.useState)(e),s=Object(n.useRef)(t),[r,c]=Object(n.useState)(e);return Object(n.useEffect)(()=>{new u.a.Tween(s).to({current:r},1e3).start(),function e(){requestAnimationFrame(e),u.a.update(),a(s.current)}()},[r]),[t,c]}(0),[g,x]=Object(n.useState)(new Date),[v,N]=Object(n.useState)(!1),[h,S]=Object(n.useState)(24);Object(n.useEffect)(()=>{(async()=>{t(!0);const{data:e}=await i.b(m.a.user.score());r(e.stats.players),d(e.stats.storage),p(e.user.score),x(new Date(e.user.lastSignAt)),N(e.signAfterZero),S(e.signGapTime),t(!1)})()},[]);const y=Object(n.useCallback)(async()=>{t(!0);const{code:e,message:a,data:n}=await i.c(m.a.user.sign());0===e?(l.b.success(a),x(new Date),p(n.score),d(n.storage)):l.b.warning(a),t(!1)},[]);return s.a.createElement("div",{className:"card card-primary card-outline"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"card-title"},Object(o.a)("user.used.title"))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-1"}),s.a.createElement("div",{className:"col-md-6"},s.a.createElement(b,{color:"teal",icon:"gamepad",name:Object(o.a)("user.used.players"),used:a.used,total:a.total,unit:""}),c.used>1024?s.a.createElement(b,{color:"maroon",icon:"hdd",name:Object(o.a)("user.used.storage"),used:~~(c.used/1024),total:~~(c.total/1024),unit:"MB"}):s.a.createElement(b,{color:"maroon",icon:"hdd",name:Object(o.a)("user.used.storage"),used:c.used,total:c.total,unit:"KB"})),s.a.createElement("div",{className:"col-md-4 text-center"},s.a.createElement(O,null,Object(o.a)("user.cur-score")),s.a.createElement(j,{"data-toggle":"modal","data-target":"#modal-score-instruction"},~~f),s.a.createElement(w,null,Object(o.a)("user.score-notice"))))),s.a.createElement("div",{className:"card-footer"},s.a.createElement(E,{isLoading:e,lastSign:g,canSignAfterZero:v,signGap:h,onClick:y})))})},49:function(e,t,a){"use strict";var n;function s(e){return`@media (max-width: ${e}px)`}function r(e,t){return`@media (min-width: ${e}px) and (max-width: ${t}px)`}function c(e){return`@media (min-width: ${e}px)`}a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),function(e){e[e.xs=0]="xs",e[e.sm=576]="sm",e[e.md=768]="md",e[e.lg=992]="lg",e[e.xl=1200]="xl"}(n||(n={}))}}]);