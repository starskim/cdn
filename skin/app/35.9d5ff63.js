(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{37:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),s=a(2);function c(){Object(n.useEffect)(()=>{Object(s.a)("mounted")},[])}},433:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(32),r=a(31),i=a(37),o=a(1),u=a(6),m=a(4),l=a(283);var d=a(11),b=a(46);var f=s.a.memo(e=>{const t=~~(e.used+e.unused),a=e.used/t*100;return s.a.createElement("div",{className:`info-box bg-${e.color}`},s.a.createElement("span",{className:"info-box-icon"},s.a.createElement("i",{className:`fas fa-${e.icon}`})),s.a.createElement("div",{className:"info-box-content"},s.a.createElement("span",{className:"info-box-text"},e.name),s.a.createElement("span",{className:"info-box-number"},s.a.createElement("b",null,e.used)," / ",t," ",e.unit),s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"progress-bar",style:{width:`${a}%`}}))))});const g=6e4,p=60*g,O=24*p;function j(e,t,a){if(a){const t=(new Date).setHours(0,0,0,0),a=t+O-Date.now();return e.valueOf()<t?0:a}return e.valueOf()+t*p-Date.now()}function E(e){const t=e/g;return t<60?Object(o.a)("user.signRemainingTime",{time:~~t,unit:Object(o.a)("user.time-unit-min")}):Object(o.a)("user.signRemainingTime",{time:~~(t/60),unit:Object(o.a)("user.time-unit-hour")})}var w=s.a.memo(e=>{const{lastSign:t,signGap:a,canSignAfterZero:n}=e,c=j(t,a,n),r=E(c),i=c<=0;return s.a.createElement("button",{className:"btn bg-gradient-primary pl-4 pr-4",role:"button",disabled:!i||e.isLoading,onClick:e.onClick},s.a.createElement("i",{className:"far fa-calendar-check","aria-hidden":"true"})," Â ",i?Object(o.a)("user.sign"):r)});const x=c.a.p`
  font-weight: bold;
  margin-top: 5px;
  ${b.d(b.a.md)} {
    margin-top: 12px;
  }
`,v=c.a.p`
  font-family: 'Minecraft';
  font-size: 50px;
  margin-top: 20px;
  cursor: help;
`,N=c.a.p`
  font-size: smaller;
  margin-top: 20px;
`;t.default=Object(r.hot)(()=>{const[e,t]=Object(n.useState)(!1),[a,c]=Object(n.useState)(0),[r,b]=Object(n.useState)(0),[g,p]=Object(n.useState)(0),[O,h]=function(e){const[t,a]=Object(n.useState)(e),s=Object(n.useRef)(t),[c,r]=Object(n.useState)(e);return Object(n.useEffect)(()=>{new l.a.Tween(s).to({current:c},1e3).start(),function e(){requestAnimationFrame(e),l.a.update(),a(s.current)}()},[c]),[t,r]}(0),[S,y]=Object(n.useState)(1),[$,k]=Object(n.useState)(1),[D,A]=Object(n.useState)(new Date),[C,T]=Object(n.useState)(!1),[G,R]=Object(n.useState)(24);Object(i.a)(),Object(n.useEffect)(()=>{(async()=>{t(!0);const e=await u.b(d.a.user.score());c(e.usage.players),b(e.usage.storage),h(e.user.score),p(e.user.score),y(e.rate.players),k(e.rate.storage),A(new Date(e.user.lastSignAt)),T(e.signAfterZero),R(e.signGapTime),t(!1)})()},[]);const Z=Object(n.useCallback)(async()=>{t(!0);const{code:e,message:a,data:n}=await u.c(d.a.user.sign());if(0===e)m.b.success(a),A(new Date),h(n.score),p(n.score);else if(1===e){const e=j(D,G,C);m.b.warning(E(e))}else m.b.error(a);t(!1)},[]);return s.a.createElement("div",{className:"card card-primary card-outline"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"card-title"},Object(o.a)("user.used.title"))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-1"}),s.a.createElement("div",{className:"col-md-6"},s.a.createElement(f,{color:"teal",icon:"gamepad",name:Object(o.a)("user.used.players"),used:a,unused:g/S,unit:""}),r>1024?s.a.createElement(f,{color:"maroon",icon:"hdd",name:Object(o.a)("user.used.storage"),used:~~(r/1024),unused:~~(g/$/1024),unit:"MB"}):s.a.createElement(f,{color:"maroon",icon:"hdd",name:Object(o.a)("user.used.storage"),used:r,unused:g/$,unit:"KB"})),s.a.createElement("div",{className:"col-md-4 text-center"},s.a.createElement(x,null,Object(o.a)("user.cur-score")),s.a.createElement(v,{"data-toggle":"modal","data-target":"#modal-score-instruction"},~~O),s.a.createElement(N,null,Object(o.a)("user.score-notice"))))),s.a.createElement("div",{className:"card-footer"},s.a.createElement(w,{isLoading:e,lastSign:D,canSignAfterZero:C,signGap:G,onClick:Z})))})},46:function(e,t,a){"use strict";var n;function s(e){return`@media (max-width: ${e}px)`}function c(e,t){return`@media (min-width: ${e}px) and (max-width: ${t}px)`}function r(e){return`@media (min-width: ${e}px)`}a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return r})),function(e){e[e.xs=0]="xs",e[e.sm=576]="sm",e[e.md=768]="md",e[e.lg=992]="lg",e[e.xl=1200]="xl"}(n||(n={}))}}]);